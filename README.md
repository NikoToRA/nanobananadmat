# AI画像生成ツール - 講習会用

Gemini APIを使用したシンプルな画像生成ツールです。研修会や講習でそのまま使用できます。

## 機能

- 📝 **テキストから画像生成**: プロンプトを入力して画像を生成
- 🖼️ **画像から画像生成**: 画像をアップロードして、プロンプトに基づいて新しい画像を生成
- 💾 **画像ダウンロード**: 生成した画像を手元に保存可能

## 📋 クイックスタート

### 必要なもの

**これだけ準備すればOK：**

1. ✅ **Gemini APIキー** または **Replicate APIトークン**（推奨）
   - Gemini APIキー: [Google AI Studio](https://makersuite.google.com/app/apikey)
   - Replicate APIトークン（推奨）: [Replicate](https://replicate.com) - 確実に動作します

2. ✅ **Vercelアカウント**（Webデプロイ用・無料）
   - [Vercel](https://vercel.com)でアカウント作成

**詳細は [`SETUP_GUIDE.md`](./SETUP_GUIDE.md) を参照してください。**

### 画像ダウンロード機能

✅ **既に実装済みです！**
- 生成された画像の下に「💾 画像をダウンロード」ボタンが表示されます
- 各ユーザーが自分のPCに画像をダウンロードできます

### Webデプロイについて

**オススメ：Vercel（5分で完了・完全無料）**

詳細な手順は [`QUICK_DEPLOY.md`](./QUICK_DEPLOY.md) を参照してください。

## セットアップ（3ステップ）

### 1. パッケージのインストール

```bash
npm install
```

### 2. 環境変数の設定

プロジェクトフォルダに`.env`ファイルを作成して、APIキーを設定：

```bash
# .envファイルを作成（テキストエディタで）
GEMINI_API_KEY=あなたのAPIキーをここに
PORT=3000
```

**APIキーは運営者が1つだけ設定すればOKです！**

**Gemini APIキーの取得方法:**
1. [Google AI Studio](https://makersuite.google.com/app/apikey)にアクセス
2. 「Create API Key」をクリック
3. 生成されたAPIキーをコピーして`.env`に貼り付け

**⚠️ 重要: Gemini APIについて**
Gemini APIは主にテキスト生成と画像理解に特化しており、画像生成機能は直接サポートされていない可能性があります。もし画像生成が動作しない場合は、以下の代替案をご検討ください：

- **Replicate API**（Stable Diffusionを使用、無料枠あり）
- **Hugging Face API**（Stable Diffusionを使用）
- **OpenAI DALL-E API**（有料）

これらのAPIを使用する場合、`server.js`の実装を変更する必要があります。

### 3. サーバー起動

#### ローカルで起動する場合

```bash
npm start
```

ブラウザで `http://localhost:3000` にアクセス！

**30人同時アクセスの場合：**
- 運営者のPCでサーバーを起動
- 参加者は運営者のIPアドレスにアクセス（例: `http://192.168.1.100:3000`）
- 全員が同じWiFiに接続している必要があります

#### Webデプロイする場合（推奨）

**より簡単な方法：WebにデプロイしてURLを共有**

詳細な手順は [`DEPLOYMENT.md`](./DEPLOYMENT.md) を参照してください。

- Vercel（無料・簡単）: 5分でデプロイ完了
- 参加者にURLを共有するだけ
- どこからでもアクセス可能

## 使い方

### テキストから画像生成

1. 「テキストから生成」タブを選択
2. 画像の説明を入力（例: 「バナナが乗っているカラフルなケーキ」）
3. 「画像を生成」ボタンをクリック
4. 生成された画像を確認して、ダウンロード可能

### 画像から画像生成

1. 「画像から生成」タブを選択
2. 画像の説明を入力
3. 元になる画像をアップロード
4. 「画像を生成」ボタンをクリック
5. 生成された画像を確認して、ダウンロード可能

## よくある質問

### Q: APIキーはどこに入れるの？
A: 運営者がプロジェクトフォルダの`.env`ファイルに1つだけ設定します。参加者には見えません。

### Q: Webデプロイしないとダメ？
A: ローカルでも動きますが、30人同時アクセスするならWebデプロイが簡単です。Vercelなら5分で完了します。

### Q: ユーザーごとに違う画像を作った時どうするの？
A: 各ユーザーは独立して画像を生成できます。生成された画像は各ユーザーのブラウザに表示され、「💾 画像をダウンロード」ボタンで保存できます。サーバーには保存されません。

詳細は [`DEPLOYMENT.md`](./DEPLOYMENT.md) を参照してください。

## 注意事項

- このツールは研修会用に作られており、セキュリティ対策は最小限です
- 同時30人程度のアクセスを想定しています
- 使用後は破棄して構いません
- APIキーは`.env`ファイルに保存され、外部に公開しないでください（デプロイ時は環境変数として設定）

## トラブルシューティング

### 画像が生成されない場合

- Gemini APIキーが正しく設定されているか確認
- APIキーに画像生成の権限があるか確認
- ブラウザのコンソールでエラーメッセージを確認

### サーバーが起動しない場合

- Node.jsがインストールされているか確認（`node --version`）
- `npm install`が正常に完了しているか確認
- ポート3000が他のアプリで使用されていないか確認

## ライセンス

MIT

